<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Salsa Library</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
}

/* ================= LOGIN PAGE ================= */
.login-page{
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:#5DADE2;
}

.login-box{
    background:white;
    padding:30px;
    width:320px;
    border-radius:10px;
    box-shadow:0 8px 20px rgba(0,0,0,0.2);
}

.login-box h2{
    text-align:center;
}

.login-box input{
    width:100%;
    padding:8px;
    margin-bottom:12px;
}

.login-box button{
    width:100%;
    padding:8px;
    background:#5DADE2;
    color:white;
    border:none;
    border-radius:5px;
    cursor:pointer;
}

/* ================= HOME PAGE ================= */
.home-page{
    display:none;
}

header{
    background:#5DADE2;
    color:white;
    padding:15px 40px;
    display:flex;
    justify-content:space-between;
    align-items:center;
}

nav ul{
    list-style:none;
    display:flex;
    gap:15px;
    margin:0;
    padding:0;
}

nav ul li a{
    text-decoration:none;
    color:white;
}

.logout-btn{
    background:white;
    color:#5DADE2;
    border:none;
    padding:6px 12px;
    border-radius:5px;
    cursor:pointer;
}

.container{
    padding:30px;
}
</style>
</head>

<body>

<!-- ================= LOGIN ================= -->
<div class="login-page" id="loginPage">
    <div class="login-box">
        <h2 id="formTitle">Login</h2>

        <!-- LOGIN FORM -->
        <form id="loginForm" onsubmit="return login()">
            <input type="text" id="loginFirst" placeholder="First Name" required>
            <input type="text" id="loginLast" placeholder="Last Name" required>
            <input type="email" id="loginEmail" placeholder="Email" required>
            <input type="password" id="loginPassword" placeholder="Password" required>
            <input type="tel" id="loginPhone" placeholder="No Handphone" required>

            <button type="submit">Login</button>

            <p style="text-align:center;">
                Belum punya akun?
                <a href="#" onclick="showRegister()">Daftar</a>
            </p>
        </form>

        <!-- REGISTER FORM -->
        <form id="registerForm" style="display:none;" onsubmit="return register()">
            <input type="text" id="regFirst" placeholder="First Name" required>
            <input type="text" id="regLast" placeholder="Last Name" required>
            <input type="email" id="regEmail" placeholder="Email" required>
            <input type="tel" id="regPhone" placeholder="No Handphone" required>
            <input type="password" id="regPassword" placeholder="Password" required>

            <button type="submit">Daftar</button>

            <p style="text-align:center;">
                Sudah punya akun?
                <a href="#" onclick="showLogin()">Login</a>
            </p>
        </form>
    </div>
</div>

<!-- ================= HOME ================= -->
<div class="home-page" id="homePage">

<header>
    <div>Salsa Library</div>

    <nav>
        <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">Koleksi</a></li>
            <li><a href="#">Layanan</a></li>
            <li><a href="#">About Us</a></li>
        </ul>
    </nav>

    <button class="logout-btn" onclick="logout()">Logout</button>
</header>

<div class="container">
    <h1>Selamat Datang di Salsa Library</h1>
    <p>Salsa Library adalah perpustakaan digital sederhana yang mendukung kegiatan literasi dan pembelajaran.</p>

    <h2>Video Youtube</h2>
    <iframe width="560" height="315"
    src="https://www.youtube.com/embed/dBVdtmHcUOI"
    allowfullscreen></iframe>
</div>

</div>

<script>
window.onload = function(){
    if(localStorage.getItem("isLoggedIn") === "true"){
        showHome();
    }
}

function showRegister(){
    document.getElementById("loginForm").style.display="none";
    document.getElementById("registerForm").style.display="block";
    document.getElementById("formTitle").innerText="Daftar";
}

function showLogin(){
    document.getElementById("registerForm").style.display="none";
    document.getElementById("loginForm").style.display="block";
    document.getElementById("formTitle").innerText="Login";
}

function register(){
    const user = {
        first: regFirst.value,
        last: regLast.value,
        email: regEmail.value,
        phone: regPhone.value,
        password: regPassword.value
    };

    localStorage.setItem("userData", JSON.stringify(user));
    alert("Pendaftaran berhasil! Silakan login.");
    showLogin();
    return false;
}

function login(){
    const storedUser = JSON.parse(localStorage.getItem("userData"));

    if(!storedUser){
        alert("Silakan daftar terlebih dahulu!");
        return false;
    }

    if(loginEmail.value === storedUser.email &&
       loginPassword.value === storedUser.password){

        localStorage.setItem("isLoggedIn", "true");
        showHome();
    }else{
        alert("Email atau password salah!");
    }

    return false;
}

function showHome(){
    document.getElementById("loginPage").style.display="none";
    document.getElementById("homePage").style.display="block";
}

function logout(){
    localStorage.removeItem("isLoggedIn");
    document.getElementById("homePage").style.display="none";
    document.getElementById("loginPage").style.display="flex";
}
</script>

</body>
</html>
